version: '3.8'

services:
  server-panel:
    # 构建当前目录
    build: .
    container_name: my_server_panel
    restart: always
    # 端口映射：左边是服务器访问端口，右边是容器内部端口
    ports:
      - "8888:8888"
    volumes:
      # 【核心魔法】把宿主机的 Docker 进程挂载进容器
      # 让容器内的 Python 能控制宿主机的 Docker
      - /var/run/docker.sock:/var/run/docker.sock
      
      # (可选) 如果你的脚本需要读取服务器上的特定目录，可以在这里挂载
      # - /home/data:/data
    environment:
      - TZ=Asia/Shanghai  # 设置时区